<html>
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>springboot | zuolinlin</title>
<link rel="shortcut icon" href="https://zuolinlin.github.io/zuo.github.io//favicon.ico?v=1651563126192">
<link href="https://cdn.jsdelivr.net/npm/remixicon@2.3.0/fonts/remixicon.css" rel="stylesheet">
<link rel="stylesheet" href="https://zuolinlin.github.io/zuo.github.io//styles/main.css">
<link rel="alternate" type="application/atom+xml" title="springboot | zuolinlin - Atom Feed" href="https://zuolinlin.github.io/zuo.github.io//atom.xml">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Droid+Serif:400,700">



    <meta name="description" content="springboot
ç›®å½•

SpringBoot2æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€å…¥é—¨

Springä¸SpringBootï¼Ÿ
SpringBoot2å…¥é—¨
è‡ªåŠ¨é…ç½®åŸç†


SpringBoot2æ ¸å¿ƒæŠ€æœ¯-æ ¸å¿ƒåŠŸèƒ½

é…ç½®æ–‡ä»¶
Webå¼€å‘
Webå¼€å‘
å•å…ƒ..." />
    <meta name="keywords" content="æ¡†æ¶" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
    <script src="https://cdn.bootcss.com/highlight.js/9.12.0/highlight.min.js"></script>
  </head>
  <body>
    <div class="main">
      <div class="main-content">
        <div class="site-header">
  <a href="https://zuolinlin.github.io/zuo.github.io/">
  <img class="avatar" src="https://zuolinlin.github.io/zuo.github.io//images/avatar.png?v=1651563126192" alt="">
  </a>
  <h1 class="site-title">
    zuolinlin
  </h1>
  <p class="site-description">
    æœ‰äº›äººå¹¶ä¸æ˜¯ä½ çš„èŠ±ï¼Œä½ åªæ˜¯é€”å¾„äº†å®ƒçš„ç»½æ”¾ğŸŒ¹ã€‚
  </p>
  <div class="menu-container">
    
      
        <a href="https://zuolinlin.github.io/zuo.github.io/" class="menu">
          é¦–é¡µ
        </a>
      
    
      
        <a href="https://zuolinlin.github.io/zuo.github.io/archives" class="menu">
          å½’æ¡£
        </a>
      
    
      
        <a href="https://zuolinlin.github.io/zuo.github.io/tags" class="menu">
          æ ‡ç­¾
        </a>
      
    
      
        <a href="https://zuolinlin.github.io/zuo.github.io/post/about" class="menu">
          å…³äº
        </a>
      
    
  </div>
  <div class="social-container">
    
      
    
      
    
      
    
      
    
      
    
  </div>
</div>

        <div class="post-detail">
          <article class="post">
            <h2 class="post-title">
              springboot
            </h2>
            <div class="post-info">
              <span>
                2022-04-08
              </span>
              <span>
                13 min read
              </span>
              
                <a href="https://zuolinlin.github.io/zuo.github.io/tag/DTrX5zKuV/" class="post-tag">
                  # æ¡†æ¶
                </a>
              
            </div>
            
              <img class="post-feature-image" src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg-blog.csdnimg.cn%2Fimg_convert%2F174788b2ec1d828d85a0a7ac65bea2cd.png&amp;refer=http%3A%2F%2Fimg-blog.csdnimg.cn&amp;app=2002&amp;size=f9999,10000&amp;q=a80&amp;n=0&amp;g=0n&amp;fmt=auto?sec=1652016788&amp;t=f4687dfb2c5e8654cce1997e62fdc003" alt="">
            
            <div class="post-content-wrapper">
              <div class="post-content">
                <h1 id="springboot">springboot</h1>
<h2 id="ç›®å½•">ç›®å½•</h2>
<ul>
<li><a href="#SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8">SpringBoot2æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€å…¥é—¨</a>
<ul>
<li><a href="#Spring%E4%B8%8ESpringBoot">Springä¸SpringBootï¼Ÿ</a></li>
<li><a href="#SpringBoot2%E5%85%A5%E9%97%A8">SpringBoot2å…¥é—¨</a></li>
<li><a href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86">è‡ªåŠ¨é…ç½®åŸç†</a></li>
</ul>
</li>
<li><a href="#SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E6%A0%B8%E5%BF%83%E5%8A%9F%E8%83%BD">SpringBoot2æ ¸å¿ƒæŠ€æœ¯-æ ¸å¿ƒåŠŸèƒ½</a>
<ul>
<li><a href="#%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6">é…ç½®æ–‡ä»¶</a></li>
<li><a href="#Web%E5%BC%80%E5%8F%91">Webå¼€å‘</a></li>
<li><a href="#Web%E5%BC%80%E5%8F%91">Webå¼€å‘</a></li>
<li><a href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95">å•å…ƒæµ‹è¯•</a></li>
<li><a href="#%E6%8C%87%E6%A0%87%E7%9B%91%E6%8E%A7">æŒ‡æ ‡ç›‘æ§</a></li>
<li><a href="#%E5%8E%9F%E7%90%86%E8%A7%A3%E6%9E%90">åŸç†è§£æ</a></li>
</ul>
</li>
<li><a href="#SpringBoot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9C%BA%E6%99%AF%E6%95%B4%E5%90%88">SpringBoot2æ ¸å¿ƒæŠ€æœ¯-åœºæ™¯æ•´åˆ</a></li>
</ul>
<h1 id="ç›®å½•-2">ç›®å½•</h1>
<h2 id="springboot2æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€å…¥é—¨">SpringBoot2æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€å…¥é—¨</h2>
<h3 id="è‡ªåŠ¨é…ç½®åŸç†">è‡ªåŠ¨é…ç½®åŸç†</h3>
<h4 id="ä¾èµ–ç®¡ç†">ä¾èµ–ç®¡ç†</h4>
<p>çˆ¶é¡¹ç›®åšä¾èµ–ç®¡ç†</p>
<pre><code class="language-xml">&lt;!--ä¾èµ–ç®¡ç† --&gt;
&lt;parent&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-parent&lt;/artifactId&gt;
    &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;
&lt;/parent&gt;

        &lt;!--ä»–çš„çˆ¶é¡¹ç›® --&gt;
&lt;parent&gt;
&lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
&lt;artifactId&gt;spring-boot-dependencies&lt;/artifactId&gt;
&lt;version&gt;2.3.4.RELEASE&lt;/version&gt;
&lt;/parent&gt;

        &lt;!--å‡ ä¹å£°æ˜äº†æ‰€æœ‰å¼€å‘ä¸­å¸¸ç”¨çš„ä¾èµ–çš„ç‰ˆæœ¬å·,è‡ªåŠ¨ç‰ˆæœ¬ä»²è£æœºåˆ¶ --&gt;

</code></pre>
<p>å¼€å‘å¯¼å…¥starteråœºæ™¯å¯åŠ¨å™¨</p>
<pre><code class="language-xml">&lt;!--
1ã€è§åˆ°å¾ˆå¤š spring-boot-starter-* ï¼š *å°±æŸç§åœºæ™¯
2ã€åªè¦å¼•å…¥starterï¼Œè¿™ä¸ªåœºæ™¯çš„æ‰€æœ‰å¸¸è§„éœ€è¦çš„ä¾èµ–æˆ‘ä»¬éƒ½è‡ªåŠ¨å¼•å…¥
3ã€SpringBootæ‰€æœ‰æ”¯æŒçš„åœºæ™¯
https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter
4ã€è§åˆ°çš„  *-spring-boot-starterï¼š ç¬¬ä¸‰æ–¹ä¸ºæˆ‘ä»¬æä¾›çš„ç®€åŒ–å¼€å‘çš„åœºæ™¯å¯åŠ¨å™¨ã€‚
5ã€æ‰€æœ‰åœºæ™¯å¯åŠ¨å™¨æœ€åº•å±‚çš„ä¾èµ–
--&gt;
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter&lt;/artifactId&gt;
    &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
<p>æ— éœ€å…³æ³¨ç‰ˆæœ¬å·ï¼Œè‡ªåŠ¨ç‰ˆæœ¬ä»²è£</p>
<pre><code> 1ã€å¼•å…¥ä¾èµ–é»˜è®¤éƒ½å¯ä»¥ä¸å†™ç‰ˆæœ¬
 2ã€å¼•å…¥éç‰ˆæœ¬ä»²è£çš„jarï¼Œè¦å†™ç‰ˆæœ¬å·ã€‚
</code></pre>
<p>å¯ä»¥ä¿®æ”¹é»˜è®¤ç‰ˆæœ¬å·</p>
<pre><code class="language-xml">&lt;!--
1ã€æŸ¥çœ‹spring-boot-dependenciesé‡Œé¢è§„å®šå½“å‰ä¾èµ–çš„ç‰ˆæœ¬ ç”¨çš„ keyã€‚
2ã€åœ¨å½“å‰é¡¹ç›®é‡Œé¢é‡å†™é…ç½®
--&gt;
&lt;properties&gt;
    &lt;mysql.version&gt;5.1.43&lt;/mysql.version&gt;
&lt;/properties&gt;
</code></pre>
<h4 id="è‡ªåŠ¨é…ç½®">è‡ªåŠ¨é…ç½®</h4>
<p>â— è‡ªåŠ¨é…å¥½Tomcat<br>
â—‹ å¼•å…¥Tomcatä¾èµ–ã€‚<br>
â—‹ é…ç½®Tomcat</p>
<pre><code class="language-xml">
&lt;dependency&gt;
    &lt;groupId&gt;org.springframework.boot&lt;/groupId&gt;
    &lt;artifactId&gt;spring-boot-starter-tomcat&lt;/artifactId&gt;
    &lt;version&gt;2.3.4.RELEASE&lt;/version&gt;
    &lt;scope&gt;compile&lt;/scope&gt;
&lt;/dependency&gt;
</code></pre>
<p>â— è‡ªåŠ¨é…å¥½SpringMVC</p>
<ul>
<li>
<p>å¼•å…¥SpringMVCå…¨å¥—ç»„ä»¶</p>
</li>
<li>
<p>è‡ªåŠ¨é…å¥½SpringMVCå¸¸ç”¨ç»„ä»¶ï¼ˆåŠŸèƒ½ï¼‰</p>
</li>
</ul>
<p>â— è‡ªåŠ¨é…å¥½Webå¸¸è§åŠŸèƒ½ï¼Œå¦‚ï¼šå­—ç¬¦ç¼–ç é—®é¢˜</p>
<ul>
<li>SpringBootå¸®æˆ‘ä»¬é…ç½®å¥½äº†æ‰€æœ‰webå¼€å‘çš„å¸¸è§åœºæ™¯</li>
</ul>
<p>â— é»˜è®¤çš„åŒ…ç»“æ„</p>
<ul>
<li>ä¸»ç¨‹åºæ‰€åœ¨åŒ…åŠå…¶ä¸‹é¢çš„æ‰€æœ‰å­åŒ…é‡Œé¢çš„ç»„ä»¶éƒ½ä¼šè¢«é»˜è®¤æ‰«æè¿›æ¥</li>
<li>æ— éœ€ä»¥å‰çš„åŒ…æ‰«æé…ç½®</li>
<li>æƒ³è¦æ”¹å˜æ‰«æè·¯å¾„ï¼Œ@SpringBootApplication(scanBasePackages=&quot;com.atguigu&quot;)</li>
</ul>
<p>â–  æˆ–è€…@ComponentScan æŒ‡å®šæ‰«æè·¯å¾„</p>
<pre><code>@SpringBootApplication
ç­‰åŒäº
@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(&quot;com.atguigu.boot&quot;)
</code></pre>
<p>â— å„ç§é…ç½®æ‹¥æœ‰é»˜è®¤å€¼</p>
<ul>
<li>é»˜è®¤é…ç½®æœ€ç»ˆéƒ½æ˜¯æ˜ å°„åˆ°æŸä¸ªç±»ä¸Šï¼Œå¦‚ï¼šMultipartProperties</li>
<li>é…ç½®æ–‡ä»¶çš„å€¼æœ€ç»ˆä¼šç»‘å®šæ¯ä¸ªç±»ä¸Šï¼Œè¿™ä¸ªç±»ä¼šåœ¨å®¹å™¨ä¸­åˆ›å»ºå¯¹è±¡</li>
</ul>
<p>â— æŒ‰éœ€åŠ è½½æ‰€æœ‰è‡ªåŠ¨é…ç½®é¡¹</p>
<ul>
<li>éå¸¸å¤šçš„starter</li>
<li>å¼•å…¥äº†å“ªäº›åœºæ™¯è¿™ä¸ªåœºæ™¯çš„è‡ªåŠ¨é…ç½®æ‰ä¼šå¼€å¯</li>
<li>SpringBootæ‰€æœ‰çš„è‡ªåŠ¨é…ç½®åŠŸèƒ½éƒ½åœ¨ spring-boot-autoconfigure åŒ…é‡Œé¢</li>
</ul>
<p>â— ......</p>
<h4 id="å®¹å™¨åŠŸèƒ½">å®¹å™¨åŠŸèƒ½</h4>
<h5 id="ç»„ä»¶æ·»åŠ ">ç»„ä»¶æ·»åŠ </h5>
<h6 id="configuration">@Configuration</h6>
<p>â— åŸºæœ¬ä½¿ç”¨<br>
â— Fullæ¨¡å¼ä¸Liteæ¨¡å¼</p>
<ul>
<li>ç¤ºä¾‹</li>
<li>æœ€ä½³å®æˆ˜</li>
</ul>
<p>â–  é…ç½® ç±»ç»„ä»¶ä¹‹é—´æ— ä¾èµ–å…³ç³»ç”¨Liteæ¨¡å¼åŠ é€Ÿå®¹å™¨å¯åŠ¨è¿‡ç¨‹ï¼Œå‡å°‘åˆ¤æ–­</p>
<p>â–  é…ç½®ç±»ç»„ä»¶ä¹‹é—´æœ‰ä¾èµ–å…³ç³»ï¼Œæ–¹æ³•ä¼šè¢«è°ƒç”¨å¾—åˆ°ä¹‹å‰å•å®ä¾‹ç»„ä»¶ï¼Œç”¨Fullæ¨¡å¼</p>
<pre><code class="language-java">#############################Configurationä½¿ç”¨ç¤ºä¾‹######################################################

/**
 * 1ã€é…ç½®ç±»é‡Œé¢ä½¿ç”¨@Beanæ ‡æ³¨åœ¨æ–¹æ³•ä¸Šç»™å®¹å™¨æ³¨å†Œç»„ä»¶ï¼Œé»˜è®¤ä¹Ÿæ˜¯å•å®ä¾‹çš„
 * 2ã€é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯ç»„ä»¶
 * 3ã€proxyBeanMethodsï¼šä»£ç†beançš„æ–¹æ³•
 *      Full(proxyBeanMethods = true)ã€ã€ä¿è¯æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯å•å®ä¾‹çš„ã€‘
 *      Lite(proxyBeanMethods = false)ã€æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯æ–°åˆ›å»ºçš„ã€‘
 *      ç»„ä»¶ä¾èµ–å¿…é¡»ä½¿ç”¨Fullæ¨¡å¼é»˜è®¤ã€‚å…¶ä»–é»˜è®¤æ˜¯å¦Liteæ¨¡å¼
 *
 *
 *
 */
@Configuration(proxyBeanMethods = false) //å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶
public class MyConfig {

    /**
     * Full:å¤–éƒ¨æ— è®ºå¯¹é…ç½®ç±»ä¸­çš„è¿™ä¸ªç»„ä»¶æ³¨å†Œæ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡è·å–çš„éƒ½æ˜¯ä¹‹å‰æ³¨å†Œå®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡
     * @return
     */
    @Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ã€‚ä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idã€‚è¿”å›ç±»å‹å°±æ˜¯ç»„ä»¶ç±»å‹ã€‚è¿”å›çš„å€¼ï¼Œå°±æ˜¯ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹
    public User user01() {
        User zhangsan = new User(&quot;zhangsan&quot;, 18);
        //userç»„ä»¶ä¾èµ–äº†Petç»„ä»¶
        zhangsan.setPet(tomcatPet());
        return zhangsan;
    }

    @Bean(&quot;tom&quot;)
    public Pet tomcatPet() {
        return new Pet(&quot;tomcat&quot;);
    }
}


################################@Configurationæµ‹è¯•ä»£ç å¦‚ä¸‹########################################

@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(&quot;com.atguigu.boot&quot;)
public class MainApplication {

    public static void main(String[] args) {
        //1ã€è¿”å›æˆ‘ä»¬IOCå®¹å™¨
        ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args);

        //2ã€æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶
        String[] names = run.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println(name);
        }

        //3ã€ä»å®¹å™¨ä¸­è·å–ç»„ä»¶

        Pet tom01 = run.getBean(&quot;tom&quot;, Pet.class);

        Pet tom02 = run.getBean(&quot;tom&quot;, Pet.class);

        System.out.println(&quot;ç»„ä»¶ï¼š&quot; + (tom01 == tom02));


        //4ã€com.atguigu.boot.config.MyConfig$$EnhancerBySpringCGLIB$$51f1e1ca@1654a892
        MyConfig bean = run.getBean(MyConfig.class);
        System.out.println(bean);

        //å¦‚æœ@Configuration(proxyBeanMethods = true)ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•ã€‚SpringBootæ€»ä¼šæ£€æŸ¥è¿™ä¸ªç»„ä»¶æ˜¯å¦åœ¨å®¹å™¨ä¸­æœ‰ã€‚
        //ä¿æŒç»„ä»¶å•å®ä¾‹
        User user = bean.user01();
        User user1 = bean.user01();
        System.out.println(user == user1);


        User user01 = run.getBean(&quot;user01&quot;, User.class);
        Pet tom = run.getBean(&quot;tom&quot;, Pet.class);

        System.out.println(&quot;ç”¨æˆ·çš„å® ç‰©ï¼š&quot; + (user01.getPet() == tom));


    }
}


</code></pre>
<h6 id="bean-component-controller-service-repository">@Beanã€@Componentã€@Controllerã€@Serviceã€@Repository</h6>
<h5 id="componentscan-import">@ComponentScanã€@Import</h5>
<pre><code class="language-java">/*
 * 4ã€@Import({User.class, DBHelper.class})
 *      ç»™å®¹å™¨ä¸­è‡ªåŠ¨åˆ›å»ºå‡ºè¿™ä¸¤ä¸ªç±»å‹çš„ç»„ä»¶ã€é»˜è®¤ç»„ä»¶çš„åå­—å°±æ˜¯å…¨ç±»å
 *
 *
 *
 */

@Import({User.class, DBHelper.class})
@Configuration(proxyBeanMethods = false) //å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶
public class MyConfig {
}
</code></pre>
<p>[@Import é«˜çº§ç”¨æ³•ï¼š](@Import é«˜çº§ç”¨æ³•ï¼š https://www.bilibili.com/video/BV1gW411W7wy?p=8)</p>
<h6 id="conditional">@Conditional</h6>
<p>æ¡ä»¶è£…é…ï¼šæ»¡è¶³ConditionalæŒ‡å®šçš„æ¡ä»¶ï¼Œåˆ™è¿›è¡Œç»„ä»¶æ³¨å…¥<br>
<img src="img_1.png" alt="img_1.png" loading="lazy"></p>
<pre><code class="language-java">=====================æµ‹è¯•æ¡ä»¶è£…é…==========================

@Configuration(proxyBeanMethods = false) //å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶
//@ConditionalOnBean(name = &quot;tom&quot;)
@ConditionalOnMissingBean(name = &quot;tom&quot;)
public class MyConfig {


    /**
     * Full:å¤–éƒ¨æ— è®ºå¯¹é…ç½®ç±»ä¸­çš„è¿™ä¸ªç»„ä»¶æ³¨å†Œæ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡è·å–çš„éƒ½æ˜¯ä¹‹å‰æ³¨å†Œå®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡
     * @return
     */

    @Bean //ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ã€‚ä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idã€‚è¿”å›ç±»å‹å°±æ˜¯ç»„ä»¶ç±»å‹ã€‚è¿”å›çš„å€¼ï¼Œå°±æ˜¯ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹
    public User user01() {
        User zhangsan = new User(&quot;zhangsan&quot;, 18);
        //userç»„ä»¶ä¾èµ–äº†Petç»„ä»¶
        zhangsan.setPet(tomcatPet());
        return zhangsan;
    }

    @Bean(&quot;tom22&quot;)
    public Pet tomcatPet() {
        return new Pet(&quot;tomcat&quot;);
    }
}

    public static void main(String[] args) {
        //1ã€è¿”å›æˆ‘ä»¬IOCå®¹å™¨
        ConfigurableApplicationContext run = SpringApplication.run(MainApplication.class, args);

        //2ã€æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶
        String[] names = run.getBeanDefinitionNames();
        for (String name : names) {
            System.out.println(name);
        }

        boolean tom = run.containsBean(&quot;tom&quot;);
        System.out.println(&quot;å®¹å™¨ä¸­Tomç»„ä»¶ï¼š&quot; + tom);

        boolean user01 = run.containsBean(&quot;user01&quot;);
        System.out.println(&quot;å®¹å™¨ä¸­user01ç»„ä»¶ï¼š&quot; + user01);

        boolean tom22 = run.containsBean(&quot;tom22&quot;);
        System.out.println(&quot;å®¹å™¨ä¸­tom22ç»„ä»¶ï¼š&quot; + tom22);


    }
</code></pre>
<h5 id="åŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥">åŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥</h5>
<h6 id="importresource">@ImportResource</h6>
<pre><code class="language-xml">======================beans.xml=========================
&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;beans xmlns=&quot;http://www.springframework.org/schema/beans&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:context=&quot;http://www.springframework.org/schema/context&quot;
       xsi:schemaLocation=&quot;http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd http://www.springframework.org/schema/context https://www.springframework.org/schema/context/spring-context.xsd&quot;&gt;

    &lt;bean id=&quot;haha&quot; class=&quot;com.atguigu.boot.bean.User&quot;&gt;
        &lt;property name=&quot;name&quot; value=&quot;zhangsan&quot;&gt;&lt;/property&gt;
        &lt;property name=&quot;age&quot; value=&quot;18&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;

    &lt;bean id=&quot;hehe&quot; class=&quot;com.atguigu.boot.bean.Pet&quot;&gt;
        &lt;property name=&quot;name&quot; value=&quot;tomcat&quot;&gt;&lt;/property&gt;
    &lt;/bean&gt;
&lt;/beans&gt;
</code></pre>
<pre><code class="language-java">@ImportResource(&quot;classpath:beans.xml&quot;)
public class MyConfig {}

======================æµ‹è¯•=================
        boolean haha = run.containsBean(&quot;haha&quot;);
        boolean hehe = run.containsBean(&quot;hehe&quot;);
        System.out.println(&quot;hahaï¼š&quot;+haha);//true
        System.out.println(&quot;heheï¼š&quot;+hehe);//true
</code></pre>
<h6 id="é…ç½®ç»‘å®š">é…ç½®ç»‘å®š</h6>
<p>å¦‚ä½•ä½¿ç”¨Javaè¯»å–åˆ°propertiesæ–‡ä»¶ä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”æŠŠå®ƒå°è£…åˆ°JavaBeanä¸­ï¼Œä»¥ä¾›éšæ—¶ä½¿ç”¨ï¼›</p>
<pre><code class="language-java">
public class getProperties {
     public static void main(String[] args) throws FileNotFoundException, IOException {
         Properties pps = new Properties();
         pps.load(new FileInputStream(&quot;a.properties&quot;));
         Enumeration enum1 = pps.propertyNames();//å¾—åˆ°é…ç½®æ–‡ä»¶çš„åå­—
         while(enum1.hasMoreElements()) {
             String strKey = (String) enum1.nextElement();
             String strValue = pps.getProperty(strKey);
             System.out.println(strKey + &quot;=&quot; + strValue);
             //å°è£…åˆ°JavaBeanã€‚
         }
     }
 }
</code></pre>
<h6 id="configurationproperties">@ConfigurationProperties</h6>
<pre><code class="language-java">/**
 * åªæœ‰åœ¨å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰ä¼šæ‹¥æœ‰SpringBootæä¾›çš„å¼ºå¤§åŠŸèƒ½
 */
@Component
@ConfigurationProperties(prefix = &quot;mycar&quot;)
public class Car {

    private String brand;
    private Integer price;

    public String getBrand() {
        return brand;
    }

    public void setBrand(String brand) {
        this.brand = brand;
    }

    public Integer getPrice() {
        return price;
    }

    public void setPrice(Integer price) {
        this.price = price;
    }

    @Override
    public String toString() {
        return &quot;Car{&quot; +
                &quot;brand='&quot; + brand + '\'' +
                &quot;, price=&quot; + price +
                '}';
    }
}
</code></pre>
<h6 id="enableconfigurationproperties-configurationproperties">@EnableConfigurationProperties + @ConfigurationProperties</h6>
<h6 id="component-configurationproperties">@Component + @ConfigurationProperties</h6>
<pre><code class="language-java">@EnableConfigurationProperties(Car.class)
//1ã€å¼€å¯Caré…ç½®ç»‘å®šåŠŸèƒ½
//2ã€æŠŠè¿™ä¸ªCarè¿™ä¸ªç»„ä»¶è‡ªåŠ¨æ³¨å†Œåˆ°å®¹å™¨ä¸­
public class MyConfig {
}
</code></pre>
<h5 id="è‡ªåŠ¨é…ç½®åŸç†å…¥é—¨">è‡ªåŠ¨é…ç½®åŸç†å…¥é—¨</h5>
<p>å¼•å¯¼åŠ è½½è‡ªåŠ¨é…ç½®ç±»</p>
<pre><code class="language-java">@SpringBootConfiguration
@EnableAutoConfiguration
@ComponentScan(excludeFilters = { @Filter(type = FilterType.CUSTOM, classes = TypeExcludeFilter.class),
		@Filter(type = FilterType.CUSTOM, classes = AutoConfigurationExcludeFilter.class) })
public @interface SpringBootApplication{}


======================
    
</code></pre>
<h6 id="springbootconfiguration">@SpringBootConfiguration</h6>
<pre><code>@Configurationã€‚ä»£è¡¨å½“å‰æ˜¯ä¸€ä¸ªé…ç½®ç±»
</code></pre>
<h6 id="componentscan">@ComponentScan</h6>
<pre><code>æŒ‡å®šæ‰«æå“ªäº›ï¼ŒSpringæ³¨è§£ï¼›
</code></pre>
<h6 id="enableautoconfiguration">@EnableAutoConfiguration</h6>
<pre><code class="language-java">@AutoConfigurationPackage
@Import(AutoConfigurationImportSelector.class)
public @interface EnableAutoConfiguration {}
</code></pre>
<h6 id="autoconfigurationpackage">@AutoConfigurationPackage</h6>
<pre><code>è‡ªåŠ¨é…ç½®åŒ…ï¼ŸæŒ‡å®šäº†é»˜è®¤çš„åŒ…è§„åˆ™
</code></pre>
<pre><code class="language-java">@Import(AutoConfigurationPackages.Registrar.class)  //ç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ä¸ªç»„ä»¶
public @interface AutoConfigurationPackage {}

//åˆ©ç”¨Registrarç»™å®¹å™¨ä¸­å¯¼å…¥ä¸€ç³»åˆ—ç»„ä»¶
//å°†æŒ‡å®šçš„ä¸€ä¸ªåŒ…ä¸‹çš„æ‰€æœ‰ç»„ä»¶å¯¼å…¥è¿›æ¥ï¼ŸMainApplication æ‰€åœ¨åŒ…ä¸‹ã€‚

</code></pre>
<h6 id="importautoconfigurationimportselectorclass">@Import(AutoConfigurationImportSelector.class)</h6>
<pre><code>1ã€åˆ©ç”¨getAutoConfigurationEntry(annotationMetadata);ç»™å®¹å™¨ä¸­æ‰¹é‡å¯¼å…¥ä¸€äº›ç»„ä»¶
2ã€è°ƒç”¨List&lt;String&gt; configurations = getCandidateConfigurations(annotationMetadata, attributes)è·å–åˆ°æ‰€æœ‰éœ€è¦å¯¼å…¥åˆ°å®¹å™¨ä¸­çš„é…ç½®ç±»
3ã€åˆ©ç”¨å·¥å‚åŠ è½½ Map&lt;String, List&lt;String&gt;&gt; loadSpringFactories(@Nullable ClassLoader classLoader)ï¼›å¾—åˆ°æ‰€æœ‰çš„ç»„ä»¶
4ã€ä»META-INF/spring.factoriesä½ç½®æ¥åŠ è½½ä¸€ä¸ªæ–‡ä»¶ã€‚
é»˜è®¤æ‰«ææˆ‘ä»¬å½“å‰ç³»ç»Ÿé‡Œé¢æ‰€æœ‰META-INF/spring.factoriesä½ç½®çš„æ–‡ä»¶
spring-boot-autoconfigure-2.3.4.RELEASE.jaråŒ…é‡Œé¢ä¹Ÿæœ‰META-INF/spring.factories
</code></pre>
<h6 id="æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹">æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹</h6>
<pre><code>è™½ç„¶æˆ‘ä»¬127ä¸ªåœºæ™¯çš„æ‰€æœ‰è‡ªåŠ¨é…ç½®å¯åŠ¨çš„æ—¶å€™é»˜è®¤å…¨éƒ¨åŠ è½½ã€‚xxxxAutoConfiguration
æŒ‰ç…§æ¡ä»¶è£…é…è§„åˆ™ï¼ˆ@Conditionalï¼‰ï¼Œæœ€ç»ˆä¼šæŒ‰éœ€é…ç½®ã€‚
</code></pre>
<h6 id="ä¿®æ”¹é»˜è®¤é…ç½®">ä¿®æ”¹é»˜è®¤é…ç½®</h6>
<pre><code class="language-java">        @Bean
		@ConditionalOnBean(MultipartResolver.class)  //å®¹å™¨ä¸­æœ‰è¿™ä¸ªç±»å‹ç»„ä»¶
		@ConditionalOnMissingBean(name = DispatcherServlet.MULTIPART_RESOLVER_BEAN_NAME) //å®¹å™¨ä¸­æ²¡æœ‰è¿™ä¸ªåå­— multipartResolver çš„ç»„ä»¶
		public MultipartResolver multipartResolver(MultipartResolver resolver) {
            //ç»™@Beanæ ‡æ³¨çš„æ–¹æ³•ä¼ å…¥äº†å¯¹è±¡å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°çš„å€¼å°±ä¼šä»å®¹å™¨ä¸­æ‰¾ã€‚
            //SpringMVC multipartResolverã€‚é˜²æ­¢æœ‰äº›ç”¨æˆ·é…ç½®çš„æ–‡ä»¶ä¸Šä¼ è§£æå™¨ä¸ç¬¦åˆè§„èŒƒ
			// Detect if the user has created a MultipartResolver but named it incorrectly
			return resolver;
		}
ç»™å®¹å™¨ä¸­åŠ å…¥äº†æ–‡ä»¶ä¸Šä¼ è§£æå™¨ï¼›

</code></pre>
<h6 id="springbooté»˜è®¤ä¼šåœ¨åº•å±‚é…å¥½æ‰€æœ‰çš„ç»„ä»¶-ä½†æ˜¯å¦‚æœç”¨æˆ·è‡ªå·±é…ç½®äº†ä»¥ç”¨æˆ·çš„ä¼˜å…ˆ">SpringBooté»˜è®¤ä¼šåœ¨åº•å±‚é…å¥½æ‰€æœ‰çš„ç»„ä»¶ã€‚ä½†æ˜¯å¦‚æœç”¨æˆ·è‡ªå·±é…ç½®äº†ä»¥ç”¨æˆ·çš„ä¼˜å…ˆ</h6>
<pre><code class="language-java">@Bean
	@ConditionalOnMissingBean
	public CharacterEncodingFilter characterEncodingFilter() {
    }

</code></pre>
<p>æ€»ç»“ï¼š<br>
â— SpringBootå…ˆåŠ è½½æ‰€æœ‰çš„è‡ªåŠ¨é…ç½®ç±»  xxxxxAutoConfiguration<br>
â— æ¯ä¸ªè‡ªåŠ¨é…ç½®ç±»æŒ‰ç…§æ¡ä»¶è¿›è¡Œç”Ÿæ•ˆï¼Œé»˜è®¤éƒ½ä¼šç»‘å®šé…ç½®æ–‡ä»¶æŒ‡å®šçš„å€¼ã€‚xxxxPropertiesé‡Œé¢æ‹¿ã€‚xxxPropertieså’Œé…ç½®æ–‡ä»¶è¿›è¡Œäº†ç»‘å®š<br>
â— ç”Ÿæ•ˆçš„é…ç½®ç±»å°±ä¼šç»™å®¹å™¨ä¸­è£…é…å¾ˆå¤šç»„ä»¶<br>
â— åªè¦å®¹å™¨ä¸­æœ‰è¿™äº›ç»„ä»¶ï¼Œç›¸å½“äºè¿™äº›åŠŸèƒ½å°±æœ‰äº†<br>
â— å®šåˆ¶åŒ–é…ç½®<br>
â—‹ ç”¨æˆ·ç›´æ¥è‡ªå·±@Beanæ›¿æ¢åº•å±‚çš„ç»„ä»¶<br>
â—‹ ç”¨æˆ·å»çœ‹è¿™ä¸ªç»„ä»¶æ˜¯è·å–çš„é…ç½®æ–‡ä»¶ä»€ä¹ˆå€¼å°±å»ä¿®æ”¹ã€‚<br>
xxxxxAutoConfiguration ---&gt; ç»„ä»¶  ---&gt; xxxxPropertiesé‡Œé¢æ‹¿å€¼  ----&gt; application.properties</p>
<h6 id="æœ€ä½³å®è·µ">æœ€ä½³å®è·µ</h6>
<p>â— å¼•å…¥åœºæ™¯ä¾èµ–</p>
<pre><code>â—‹ https://docs.spring.io/spring-boot/docs/current/reference/html/using-spring-boot.html#using-boot-starter
</code></pre>
<p>â— æŸ¥çœ‹è‡ªåŠ¨é…ç½®äº†å“ªäº›ï¼ˆé€‰åšï¼‰</p>
<ul>
<li>è‡ªå·±åˆ†æï¼Œå¼•å…¥åœºæ™¯å¯¹åº”çš„è‡ªåŠ¨é…ç½®ä¸€èˆ¬éƒ½ç”Ÿæ•ˆäº†</li>
<li>é…ç½®æ–‡ä»¶ä¸­debug=trueå¼€å¯è‡ªåŠ¨é…ç½®æŠ¥å‘Šã€‚Negativeï¼ˆä¸ç”Ÿæ•ˆï¼‰\Positiveï¼ˆç”Ÿæ•ˆï¼‰</li>
</ul>
<p>â— æ˜¯å¦éœ€è¦ä¿®æ”¹</p>
<ul>
<li>å‚ç…§æ–‡æ¡£ä¿®æ”¹é…ç½®é¡¹</li>
<li>https://docs.spring.io/spring-boot/docs/current/reference/html/appendix-application-properties.html#common-application-properties</li>
</ul>
<p>â–  è‡ªå·±åˆ†æã€‚xxxxPropertiesç»‘å®šäº†é…ç½®æ–‡ä»¶çš„å“ªäº›ã€‚</p>
<ul>
<li>è‡ªå®šä¹‰åŠ å…¥æˆ–è€…æ›¿æ¢ç»„ä»¶<br>
â–  @Beanã€@Componentã€‚ã€‚ã€‚</li>
<li></li>
<li>è‡ªå®šä¹‰å™¨  XXXXXCustomizer</li>
</ul>

              </div>
              <div class="toc-container">
                <ul class="markdownIt-TOC">
<li><a href="#springboot">springboot</a>
<ul>
<li><a href="#%E7%9B%AE%E5%BD%95">ç›®å½•</a></li>
</ul>
</li>
<li><a href="#%E7%9B%AE%E5%BD%95-2">ç›®å½•</a>
<ul>
<li><a href="#springboot2%E6%A0%B8%E5%BF%83%E6%8A%80%E6%9C%AF-%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8">SpringBoot2æ ¸å¿ƒæŠ€æœ¯-åŸºç¡€å…¥é—¨</a>
<ul>
<li><a href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86">è‡ªåŠ¨é…ç½®åŸç†</a>
<ul>
<li><a href="#%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86">ä¾èµ–ç®¡ç†</a></li>
<li><a href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE">è‡ªåŠ¨é…ç½®</a></li>
<li><a href="#%E5%AE%B9%E5%99%A8%E5%8A%9F%E8%83%BD">å®¹å™¨åŠŸèƒ½</a>
<ul>
<li><a href="#%E7%BB%84%E4%BB%B6%E6%B7%BB%E5%8A%A0">ç»„ä»¶æ·»åŠ </a>
<ul>
<li><a href="#configuration">@Configuration</a></li>
<li><a href="#bean-component-controller-service-repository">@Beanã€@Componentã€@Controllerã€@Serviceã€@Repository</a></li>
</ul>
</li>
<li><a href="#componentscan-import">@ComponentScanã€@Import</a>
<ul>
<li><a href="#conditional">@Conditional</a></li>
</ul>
</li>
<li><a href="#%E5%8E%9F%E7%94%9F%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6%E5%BC%95%E5%85%A5">åŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥</a>
<ul>
<li><a href="#importresource">@ImportResource</a></li>
<li><a href="#%E9%85%8D%E7%BD%AE%E7%BB%91%E5%AE%9A">é…ç½®ç»‘å®š</a></li>
<li><a href="#configurationproperties">@ConfigurationProperties</a></li>
<li><a href="#enableconfigurationproperties-configurationproperties">@EnableConfigurationProperties + @ConfigurationProperties</a></li>
<li><a href="#component-configurationproperties">@Component + @ConfigurationProperties</a></li>
</ul>
</li>
<li><a href="#%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E5%8E%9F%E7%90%86%E5%85%A5%E9%97%A8">è‡ªåŠ¨é…ç½®åŸç†å…¥é—¨</a>
<ul>
<li><a href="#springbootconfiguration">@SpringBootConfiguration</a></li>
<li><a href="#componentscan">@ComponentScan</a></li>
<li><a href="#enableautoconfiguration">@EnableAutoConfiguration</a></li>
<li><a href="#autoconfigurationpackage">@AutoConfigurationPackage</a></li>
<li><a href="#importautoconfigurationimportselectorclass">@Import(AutoConfigurationImportSelector.class)</a></li>
<li><a href="#%E6%8C%89%E9%9C%80%E5%BC%80%E5%90%AF%E8%87%AA%E5%8A%A8%E9%85%8D%E7%BD%AE%E9%A1%B9">æŒ‰éœ€å¼€å¯è‡ªåŠ¨é…ç½®é¡¹</a></li>
<li><a href="#%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E9%85%8D%E7%BD%AE">ä¿®æ”¹é»˜è®¤é…ç½®</a></li>
<li><a href="#springboot%E9%BB%98%E8%AE%A4%E4%BC%9A%E5%9C%A8%E5%BA%95%E5%B1%82%E9%85%8D%E5%A5%BD%E6%89%80%E6%9C%89%E7%9A%84%E7%BB%84%E4%BB%B6-%E4%BD%86%E6%98%AF%E5%A6%82%E6%9E%9C%E7%94%A8%E6%88%B7%E8%87%AA%E5%B7%B1%E9%85%8D%E7%BD%AE%E4%BA%86%E4%BB%A5%E7%94%A8%E6%88%B7%E7%9A%84%E4%BC%98%E5%85%88">SpringBooté»˜è®¤ä¼šåœ¨åº•å±‚é…å¥½æ‰€æœ‰çš„ç»„ä»¶ã€‚ä½†æ˜¯å¦‚æœç”¨æˆ·è‡ªå·±é…ç½®äº†ä»¥ç”¨æˆ·çš„ä¼˜å…ˆ</a></li>
<li><a href="#%E6%9C%80%E4%BD%B3%E5%AE%9E%E8%B7%B5">æœ€ä½³å®è·µ</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>

              </div>
            </div>
          </article>
        </div>

        
          <div class="next-post">
            <div class="next">ä¸‹ä¸€ç¯‡</div>
            <a href="https://zuolinlin.github.io/zuo.github.io/post/mei-ju/">
              <h3 class="post-title">
                æšä¸¾
              </h3>
            </a>
          </div>
        

        

        <div class="site-footer">
  Powered by <a href="https://github.com/getgridea/gridea" target="_blank">zuozuozuo</a>
  <a class="rss" href="https://zuolinlin.github.io/zuo.github.io//atom.xml" target="_blank">
    <i class="ri-rss-line"></i> RSS
  </a>
</div>

      </div>
    </div>

    <script>
      hljs.initHighlightingOnLoad()

      let mainNavLinks = document.querySelectorAll(".markdownIt-TOC a");

      // This should probably be throttled.
      // Especially because it triggers during smooth scrolling.
      // https://lodash.com/docs/4.17.10#throttle
      // You could do like...
      // window.addEventListener("scroll", () => {
      //    _.throttle(doThatStuff, 100);
      // });
      // Only not doing it here to keep this Pen dependency-free.

      window.addEventListener("scroll", event => {
        let fromTop = window.scrollY;

        mainNavLinks.forEach((link, index) => {
          let section = document.getElementById(decodeURI(link.hash).substring(1));
          let nextSection = null
          if (mainNavLinks[index + 1]) {
            nextSection = document.getElementById(decodeURI(mainNavLinks[index + 1].hash).substring(1));
          }
          if (section.offsetTop <= fromTop) {
            if (nextSection) {
              if (nextSection.offsetTop > fromTop) {
                link.classList.add("current");
              } else {
                link.classList.remove("current");    
              }
            } else {
              link.classList.add("current");
            }
          } else {
            link.classList.remove("current");
          }
        });
      });

    </script>
  </body>
</html>
